# AI開発者への引き継ぎプロンプト

## 🤖 AIアシスタントへの指示

以下の内容を次のAI開発者に伝えて、開発を継続してもらってください：

---

## 📋 プロジェクト引き継ぎ指示

```
あなたは BUDDICA ROAD というドライブルート提案アプリの開発を引き継ぎます。

### プロジェクト概要
- アプリ名: BUDDICA ROAD
- テーマ: 「思い出作り」のドライブルート提案
- 現在のバージョン: v2.0
- 本番URL: https://buddica-road-v2.vercel.app/
- リポジトリ: https://github.com/m-tsurue/buddica-road-v2

### 現在の実装状況
✅ 完成済み機能:
- ホームページ（3つの発見方法：検索・エリア・人気スポット）
- レコメンドエンジン（距離・類似度ベースのAI提案）
- スワイプ選択画面（Tinderライクな操作）
- ルート編集機能（ドラッグ&ドロップ）
- 完全なリセット・状態管理機能

⏳ 優先実装タスク:
1. 地図機能（Mapbox統合）- 「地図から選ぶ」ボタンの機能化
2. 実データベース統合（Supabase + 1000+スポット）
3. PWA対応（モバイルアプリライク体験）

### 技術スタック
- フロントエンド: Next.js 15, TypeScript, Tailwind CSS
- アニメーション: Framer Motion
- デプロイ: Vercel
- 状態管理: React hooks + localStorage

### 重要な設計思想
1. 目的地ベースのレコメンド（ランダムではなく意図的な提案）
2. ユーザー体験重視（スムーズなアニメーション）
3. 段階的な機能拡張（MVP → 地図 → データベース → AI強化）

### 必読ドキュメント
- README.md: プロジェクト概要
- HANDOVER_GUIDE.md: 技術的な詳細ガイド  
- DEVELOPMENT_ROADMAP.md: 今後の開発計画

### 次のアクション
まず現在のコードベースを理解し、HANDOVER_GUIDE.md の「すぐに始められるタスク」から地図機能の実装を開始してください。質問があれば遠慮なく聞いてください。
```

---

## 🎯 具体的な引き継ぎ手順

### 1. **最初の確認事項**
新しいAIに以下を確認してもらう：

```
1. 現在のディレクトリ構造を把握できていますか？
2. 主要ファイル（page.tsx, swipe/page.tsx, recommendation.ts）の役割を理解しましたか？
3. ローカル環境で npm run dev が正常に動作しますか？
4. 現在のアプリの動作フロー（ホーム→スワイプ→ルート編集）を体験しましたか？
```

### 2. **技術的コンテキストの共有**
重要な実装判断を伝える：

```
技術的な重要ポイント:
- localStorage を使った状態管理（primaryDestination, selectedSpots, currentIndex）
- Framer Motion のReorder.Groupを使ったドラッグ&ドロップ
- レコメンドアルゴリズムの重み付け（距離40%、タグ25%、vibes20%、評価15%）
- SwipeCard の dragConstraints 設定による適切なスワイプ範囲
- AnimatePresence を使った滑らかなカード遷移

既知の課題:
- 地図タブは現在プレースホルダー
- モックデータは6スポットのみ
- オフライン対応なし
- ナビゲーション機能なし
```

### 3. **開発継続のための指針**
開発方針を明確に伝える：

```
開発指針:
1. 既存機能を壊さないこと（特にスワイプとレコメンド機能）
2. ユーザー体験を最優先（アニメーション・レスポンシブ対応）
3. 段階的な機能追加（一度に多くを変更しない）
4. コミット時は詳細な説明を記述
5. エラーハンドリングを適切に実装

コーディング規約:
- TypeScript strict mode
- Tailwind CSS のユーティリティクラス使用
- コンポーネントの関数型記述
- Framer Motion のwhileHover/whileTap使用
- 必要に応じてuseEffect + localStorage で状態保持
```

---

## 🚀 推奨する最初の作業

新しいAIには以下の順序で作業してもらう：

### Week 1: 環境理解・地図準備
```
1. コードベース全体の理解
2. ローカル環境での動作確認
3. Mapbox アカウント作成・API キー取得
4. 地図機能の技術調査
```

### Week 2-3: 地図機能実装
```
1. Mapbox GL JS のインストール・設定
2. /app/map/page.tsx の実装
3. 地図上でのスポット選択機能
4. 既存のレコメンドシステムとの統合
```

### Week 4: データ準備
```
1. Supabase アカウント・プロジェクト作成
2. データベース設計（spots テーブル）
3. モックデータの拡張（100→1000スポット）
4. 検索機能の最適化
```

---

## ⚠️ 重要な注意事項

### やってはいけないこと
```
❌ 既存の状態管理ロジックを大幅変更
❌ SwipeCard コンポーネントの根本的な書き換え
❌ レコメンドアルゴリズムの重み付けを勝手に変更
❌ 既存のアニメーション設定の削除
❌ localStorage キーの変更（primaryDestination, selectedSpots）
```

### 必ず守ること
```
✅ 既存機能のテスト後に新機能を追加
✅ 各機能実装後のビルド確認
✅ レスポンシブデザインの維持
✅ アクセシビリティの考慮
✅ 詳細なコミットメッセージの記述
```

---

## 🤝 サポート体制

### 質問・相談先
```
1. GitHub Issues: 技術的な質問・バグ報告
2. ドキュメント参照: HANDOVER_GUIDE.md の詳細説明
3. コードコメント: 重要な関数には実装理由を記載済み
```

### トラブルシューティング
```
よくある問題と解決法:
- スワイプが効かない → SwipeCard.tsx の dragConstraints 確認
- レコメンドが生成されない → localStorage の primaryDestination 確認
- ビルドエラー → npm run type-check でTypeScript エラー確認
- アニメーションが重い → Framer Motion の最適化設定確認
```

---

## 📊 成功指標

新しいAIによる開発が成功している指標：

### 技術指標
```
✅ 新機能追加後も既存機能が正常動作
✅ ビルドエラーなし・型エラーなし
✅ レスポンシブデザインの維持
✅ パフォーマンス劣化なし（Core Web Vitals）
```

### UX指標
```
✅ スムーズなアニメーション維持
✅ 直感的な操作性の向上
✅ ロード時間の改善
✅ エラーハンドリングの充実
```

---

## 📝 引き継ぎチェックリスト

新しいAIが開発を開始する前に確認：

```
□ プロジェクト概要の理解
□ 現在の技術スタックの把握
□ ローカル環境での動作確認
□ 主要ドキュメントの読了
□ 既存コードの動作フロー理解
□ 次の優先タスクの確認
□ 開発環境の準備（API キー等）
□ Git リポジトリへのアクセス確認
```

---

---

## 💼 最新のプロジェクト状態 (2025-07-30)

### 現在のリポジトリ状態
```
✅ 完全プッシュ済み: すべてのコミットがbuddica-road-v2と同期
✅ ドキュメント整備完了: 技術的な詳細情報を全て更新
✅ メンテナビリティ対応: 保守性を重視したリファクタリング計画準備中
```

### 次のAI開発者への重要指示
```
コードプッシュが完了しました。今後は以下の順序で作業を進めてください：

1. **現在のコードベース理解** (1-2日)
   - npm run dev でローカル環境起動確認
   - アプリの基本フロー体験（ホーム→スワイプ→ルート編集）
   - 主要コンポーネントのコード読み込み

2. **リファクタリング計画策定** (2-3日)
   - コード品質の分析と改善点の整理
   - テストカバレッジの現状把握
   - パフォーマンスボトルネックの特定

3. **段階的リファクタリング実行** (1-2週間)
   - デグレ一切禁止で慢心に実行
   - 各段階で必ずテスト実行
   - コミットは大きな変更を避けて細かく分割

重要: 既存機能の破壊は絶対に避けてください。
```

---

**引き継ぎ準備完了日**: 2025年7月30日 03:00 JST  
**次回開発者向け**: このプロンプトとHANDOVER_GUIDE.mdを使って円滑な作業継続を  
**作業状態**: リポジトリプッシュ完了・リファクタリング準備適切